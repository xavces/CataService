{"version":3,"sources":["../../src/pages/chat2/chat2.module.ts","../../node_modules/@ionic-native/text-to-speech/index.js","../../src/pages/chat2/chat2.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TextToSpeech } from '@ionic-native/text-to-speech';\nimport { Chat2Page } from './chat2';\n\n@NgModule({\n  declarations: [\n    Chat2Page,\n  ],\n  imports: [\n    IonicPageModule.forChild(Chat2Page)\n  ],\n  providers: [\n    TextToSpeech,\n  ],\n  exports: [\n    Chat2Page\n  ]\n})\nexport class Chat2PageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat2/chat2.module.ts","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Injectable } from '@angular/core';\nimport { Plugin, Cordova, IonicNativePlugin } from '@ionic-native/core';\n/**\n * @name Text To Speech\n * @description\n * Text to Speech plugin\n *\n * @usage\n * ```typescript\n * import { TextToSpeech } from '@ionic-native/text-to-speech';\n *\n * constructor(private tts: TextToSpeech) { }\n *\n * ...\n *\n * this.tts.speak('Hello World')\n *   .then(() => console.log('Success'))\n *   .catch((reason: any) => console.log(reason));\n *\n * ```\n * @interfaces\n * TTSOptions\n */\nvar TextToSpeech = (function (_super) {\n    __extends(TextToSpeech, _super);\n    function TextToSpeech() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * This function speaks\n     * @param textOrOptions {string | TTSOptions} Text to speak or TTSOptions\n     * @return {Promise<any>} Returns a promise that resolves when the speaking finishes\n     */\n    TextToSpeech.prototype.speak = function (textOrOptions) {\n        return;\n    };\n    /**\n     * Stop any current TTS playback\n     * @return {Promise<any>}\n     */\n    TextToSpeech.prototype.stop = function () {\n        return;\n    };\n    TextToSpeech.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    TextToSpeech.ctorParameters = function () { return []; };\n    __decorate([\n        Cordova({\n            successIndex: 1,\n            errorIndex: 2\n        }),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Object]),\n        __metadata(\"design:returntype\", Promise)\n    ], TextToSpeech.prototype, \"speak\", null);\n    __decorate([\n        Cordova(),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", Promise)\n    ], TextToSpeech.prototype, \"stop\", null);\n    TextToSpeech = __decorate([\n        Plugin({\n            pluginName: 'Text To Speech',\n            plugin: 'cordova-plugin-tts',\n            pluginRef: 'TTS',\n            repo: 'https://github.com/vilic/cordova-plugin-tts',\n            platforms: ['Android', 'iOS', 'Windows Phone 8']\n        })\n    ], TextToSpeech);\n    return TextToSpeech;\n}(IonicNativePlugin));\nexport { TextToSpeech };\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@ionic-native/text-to-speech/index.js\n// module id = 628\n// module chunks = 12","import { Component, ChangeDetectorRef } from '@angular/core';\nimport { IonicPage, NavController, Platform } from 'ionic-angular';\nimport { WelcomePage } from '../pages';\nimport { TextToSpeech } from '@ionic-native/text-to-speech';\nimport { SpeechRecognition, SpeechRecognitionListeningOptionsAndroid, SpeechRecognitionListeningOptionsIOS } from '@ionic-native/speech-recognition';\n/**\n * The Welcome Page is a splash page that quickly describes the app,\n * and then directs the user to create an account or log in.\n * If you'd like to immediately put the user onto a login/signup page,\n * we recommend not using the Welcome page.\n*/\n\ndeclare var ApiAIPlugin: any;\n\n@IonicPage()\n@Component({\n  selector: 'page-chat2',\n  templateUrl: 'chat2.html'\n})\n\nexport class Chat2Page {\n\n  \n  \n  text: string;\n  speechList : Array<string> = [];\n\n  toUser = {\n    _id: '534b8e5aaa5e7afc1b23e69b',\n    pic: 'assets/img/bot.png',\n    username: 'BoBot',\n  };\n\n  user = {\n    _id: '534b8fb2aa5e7afc1b23e69c',\n    pic: 'assets/img/logo2.png',\n    username: 'Sandy',\n  };\n\n  messages : Array<object> = [\n    {\n      toId: this.user._id,\n      _id: 1,\n      date: new Date().toLocaleTimeString().replace(/:\\d+ /, ' '),\n      userId: this.toUser._id,\n      username: this.toUser.username,\n      pic: this.toUser.pic,\n      text: {\n        speech: \"Salut ! Je suis BoBot, puis-je t'aider à déterminer ton besoin ?\"\n      }\n    }\n  ];\n\n  androidOptions: SpeechRecognitionListeningOptionsAndroid;\n  iosOptions: SpeechRecognitionListeningOptionsIOS;\n  textBody: string;\n  voiceBody: string;\n  alternate: boolean;\n  hideTime: boolean;\n  verbalResponse: boolean;\n  newMessage: {};\n  responseMessage: {};\n\n  constructor(private ref: ChangeDetectorRef, private speech: SpeechRecognition, private tts: TextToSpeech, public navCtrl: NavController, public platform: Platform) {\n      ApiAIPlugin.init(\n      {\n          clientAccessToken: \"099b97242c1745bd92c163cd27d2c767\", \n          lang: \"en\" // set lang tag from list of supported languages \n      }, \n      function(result) { /* success processing */ },\n      function(error) { /* error processing */ }\n      );\n      this.initializeApp()\n      this.hideTime = true;\n      this.verbalResponse = true;\n  }\n\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      if(!this.hasPermission()){\n        this.getPermission()\n      }\n    });\n  }\n\n  async SpeakText(voice):Promise<any> {\n    try{\n      await this.tts.speak(voice);\n      console.log(\"Successfully spoke\")\n    }\n    catch(e){\n      console.log(e)\n    }\n  }\n\n  listenForSpeech():void {\n    this.androidOptions = {\n        prompt: 'Speak into your phone!',\n        matches: 1\n    };\n\n    this.iosOptions = {\n        matches: 1\n    };\n\n    if(this.platform.is('android')){\n      this.speech.startListening(this.androidOptions).subscribe(\n        (data) => {\n          this.messages.push(\n            {\n              toId: this.toUser._id,\n              _id: this.messages.length,\n              date: new Date().toLocaleTimeString().replace(/:\\d+ /, ' '),\n              userId: this.user._id,\n              username: this.user.username,\n              pic: this.user.pic,\n              text: data\n            }\n          );\n          this.SendTextFromVoice(data)\n      }, (error) => {\n          console.log(error)\n      });\n    }\n    else if(this.platform.is('ios')){\n      this.speech.startListening(this.iosOptions).subscribe(\n        data => {\n          this.messages.push(\n            {\n              toId: this.toUser._id,\n              _id: this.messages.length,\n              date: new Date().toLocaleTimeString().replace(/:\\d+ /, ' '),\n              userId: this.user._id,\n              username: this.user.username,\n              pic: this.user.pic,\n              text: data\n            }\n          );\n          this.SendTextFromVoice(data);\n        }, (error) => {\n          console.log(error)\n      });\n    }\n  }\n\n  async SendText(query):Promise<any> {\n    var messages0 = [\n      \"Bon je dois t'avouer quelque chose ...\",\n      \"Il y a quelque chose que je dois te dire ...\",\n      \"Je dois te faire une confidence ... Oui ça va vite entre nous !\"\n    ];\n    let message0=messages0[Math.floor(Math.random() * messages0.length)];\n    this.messages.push({\n      toId: this.user._id,\n      _id: this.messages.length,\n      date: new Date().toLocaleTimeString().replace(/:\\d+ /, ' '),\n      userId: this.toUser._id,\n      username: this.toUser.username,\n      pic: this.toUser.pic,\n      text: message0\n    });\n\n    let messages1 = [\n      \"Je suis installé mais j'ai pas encore bien bossé cette partie ... Pourrais-tu revenir un peu plus tard ?\",\n      \"Je me dois d'être honnête envers toi, je ne suis pas au point pour le moment ...\"\n    ];\n    var message1=messages1[Math.floor(Math.random() * messages1.length)];\n    this.messages.push({\n      toId: this.user._id,\n      _id: this.messages.length,\n      date: new Date().toLocaleTimeString().replace(/:\\d+ /, ' '),\n      userId: this.toUser._id,\n      username: this.toUser.username,\n      pic: this.toUser.pic,\n      text: message1\n    });\n\n    let messages2 = [\n      \"Tu peux me retrouver dans la partie recherche, je te guiderai au mieux !\",\n      \"Retrouve moi dans la partie recherche et ensemble nous parviendrons à déterminer ton besoin\"\n    ];\n    var message2=messages2[Math.floor(Math.random() * messages2.length)];\n\n    this.messages.push({\n      toId: this.user._id,\n      _id: this.messages.length,\n      date: new Date().toLocaleTimeString().replace(/:\\d+ /, ' '),\n      userId: this.toUser._id,\n      username: this.toUser.username,\n      pic: this.toUser.pic,\n      text: message2\n    });\n    // try {\n    //     await ApiAIPlugin.requestText(\n    //       {\n    //         query,\n    //         originalRequest: {\n    //           source: 'WWT chat bot',\n    //           data: 'messages'\n    //         }\n    //       },\n    //        (response) => {\n    //          console.log(JSON.stringify(response))\n    //          console.log(JSON.stringify(response.result))\n    //          let speech = response.result.fulfillment;\n    //            if(response.result.fulfillment.speech){\n    //              console.log(speech);\n    //              if(this.platform.is('ios')){\n    //                 this.messages.push({\n    //                   toId: this.user._id,\n    //                   _id: this.messages.length,\n    //                   date: new Date().toLocaleTimeString().replace(/:\\d+ /, ' '),\n    //                   userId: this.toUser._id,\n    //                   username: this.toUser.username,\n    //                   pic: this.toUser.pic,\n    //                   text: speech\n    //                 });\n    //               this.ref.detectChanges();\n    //             } else {\n    //               this.messages.push({      \n    //                 toId: this.user._id,\n    //                 _id: 2,\n    //                 date: new Date().toLocaleTimeString().replace(/:\\d+ /, ' '),\n    //                 userId: this.toUser._id,\n    //                 username: this.toUser.username,\n    //                 pic: this.toUser.pic,\n    //                 text: speech\n    //               });\n    //               this.ref.detectChanges();\n    //             }\n    //            } else {\n    //              this.messages.push({\n    //               toId: this.user._id,\n    //               _id: 2,\n    //               date: new Date().toLocaleTimeString().replace(/:\\d+ /, ' '),\n    //               userId: this.toUser._id,\n    //               username: this.toUser.username,\n    //               pic: this.toUser.pic,\n    //               text: \"Je suis désolé, je n'ai pas compris votre réponse.\"\n    //             });\n    //             this.ref.detectChanges();\n    //            }\n    //         },\n    //         (error) => {\n    //             console.error(error);\n    //         });\n    // } catch (e) {\n    //     alert(e);\n    // }\n  }\n\n  async SendTextFromVoice(query):Promise<any> {\n    try {\n        await ApiAIPlugin.requestText(\n          {\n            query\n          },\n           (response) => {\n             if(response.result.fulfillment.speech){\n                let voice = response.result.fulfillment.speech\n                console.log('3', voice)\n                this.messages.push({\n                  toId: this.user._id,\n                  _id: 2,\n                  date: new Date().toLocaleTimeString().replace(/:\\d+ /, ' '),\n                  userId: this.toUser._id,\n                  username: this.toUser.username,\n                  pic: this.toUser.pic,\n                  text: voice\n                });\n                this.ref.detectChanges();\n                this.SpeakText(voice)\n             } else {\n               let voice = \"Je suis désolé, je n'ai pas compris votre réponse\"\n                console.log('3', voice)\n                this.messages.push({\n                  toId: this.user._id,\n                  _id: 2,\n                  date: new Date().toLocaleTimeString().replace(/:\\d+ /, ' '),\n                  userId: this.toUser._id,\n                  username: this.toUser.username,\n                  pic: this.toUser.pic,\n                  text: voice\n                });\n                this.ref.detectChanges();\n                this.SpeakText(voice)\n             }\n            },\n            (error) => {\n                console.error(error);\n            });\n    } catch (e) {\n        alert(e);\n    }\n    }\n\n  async getSupportedLanguages():Promise<Array<string>> {\n    try{\n      const languages = await this.speech.getSupportedLanguages();\n      console.log(languages);\n      return languages;\n    }\n    catch(e){\n      console.error(e)\n    }\n  }\n\n  async hasPermission():Promise<boolean> {\n    try{\n      const permission = await this.speech.hasPermission();\n      console.log(permission)\n      return permission;\n    }\n    catch(e){\n      console.log(e)\n    }\n  }\n\n  async getPermission():Promise<void> {\n    try{\n      const permission = await this.speech.requestPermission();\n      console.log(permission)\n      return permission;\n    }\n    catch(e){\n      console.log(e)\n    }\n  }\n\n  async isSpeechSupported():Promise<boolean> {\n    const isAvailable = await this.speech.isRecognitionAvailable();\n    console.log(isAvailable)\n    return isAvailable;\n  }\n\n  async sendMessage():Promise<any> {\n\n    this.messages.push({\n      toId: this.toUser._id,\n      _id: this.messages.length,\n      date: new Date().toLocaleTimeString().replace(/:\\d+ /, ' '),\n      userId: this.user._id,\n      username: this.user.username,\n      pic: this.user.pic,\n      text: this.newMessage\n    });\n    this.SendText(this.newMessage);\n    console.log(this.newMessage);\n    this.newMessage=\"\";\n  }\n\n  buildCardLayout(data) {\n      \n  }\n\n  \n  login() {\n    this.navCtrl.push(WelcomePage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat2/chat2.ts"],"sourceRoot":""}